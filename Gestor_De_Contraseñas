#include <iostream>
#include <time.h>
#include <string>
using namespace std;

int main () {
    srand(time(NULL));
    cout << "Bienvenido al generador de contraseñas KERBERUS: " <<endl;
    string posibilidades = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()_+=-";
    int indice;
    int longitud;
    bool aceptable = false; 
    string nuevapassword, password1, password2, password3, password4, password5;
    short contador = 0;
    short accion;
    
    
while (true){   
    cout << "Que deseas haccer?" << endl <<  "1. Generar una contraseña" << endl << "2. visualizar las passwords almacenadas" << endl << "3. Salir" << endl;
    cin >> accion;
    
    if (accion ==1 ){
        
    do{
    cout << "Introduce la longitud de la contraseña (10-100): " << endl;
    cin >> longitud;
    
    if (longitud >= 10 && longitud <= 100){
        aceptable =true;
        
    }else{
        cout << "La longitud no esta en los limites establecidos" << endl;
        aceptable = false;
    }
    
    }while (!aceptable);


    if (aceptable){
        if (contador >=5){
            cout << "Has alcanzado el numero maximo de contraseñas";
        }else{
        
        for (int i = 0; i< longitud; i++){
            indice = rand () % posibilidades.length();
            nuevapassword += posibilidades[indice];
        }
        
        cout << "Aqui tienes tu contraseña generada: " << nuevapassword;
        contador++; 
        
         if (contador == 0) {
                password1 = nuevapassword;
            } else if (contador == 1) {
                password2 = nuevapassword;
            } else if (contador == 2) {
                password3 = nuevapassword;
            } else if (contador == 3) {
                password4 = nuevapassword;
            } else if (contador == 4) {
                password5 = nuevapassword;
            }
        
        }

        
    }
    cout << endl;
    
    } else if (accion == 2){
        
        cout << "Contraseña 1: " << password1 << endl;
        cout << "Contraseña 2: " << password2 << endl;
        cout << "Contraseña 3: " << password3 << endl;
        cout << "Contraseña 4: " << password4 << endl;
        cout << "Contraseña 5: " << password5 << endl;

        cout << endl;
       
    }else if (accion==3){
        break;
    }
    
}
    
    return 0;
}
